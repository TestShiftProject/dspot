# DSpot Prettifier

This module enables you to perform a variety of post-processing steps on tests generated by [DSpot](http://github.com/STAMP-project/dspot.git) to make them easier to understand, as well as filtering and prioritizing the tests.

## Available Prettifiers

We provide different *prettifiers* that improve or modify the amplified test cases. They can be used separately or in conjunction with each other. Here we will present all available prettifiers, how to enable them from the command line and when they can be applied.

To learn how to configure the remaining options for the DSpot Prettifier, please consult the section [Command Line Usage](##-command-line-usage).
To learn about the prettifiers based on Code2Vec and Context2Name, please consult the [readme-code2vec-context2name](readme-code2vec-context2name.md).

1. Minimize the test method by removing all the "useless" statements.
2. Rename the test method. This is done using [code2vec](https://github.com/tech-srl/code2vec).
3. Rename the local variable used in the the test method. This is done based
   on [context2name](https://github.com/rbavishi/Context2Name).



## Command Line Usage

```
java -jar /path/to/dspot-prettifier-<VERSION>-jar-with-dependencies.jar --apply-all-prettifiers --absolute-path-to-project-root=<path> --path-to-amplified-test-class=<path>
```

The prettifier uses DSpot in the background, you can pass all arguments that you can also pass to DSpot.
It always processes one class of amplified test cases at once, and requires the absolute path to the corresponding java file (option `--path-to-amplified-test-class`).
It does not matter where this file is located relative to the project under test.
You also need to pass `--absolute-path-to-project-root` to specify the location of the project under test.

### Configure Prettifiers

To select which prettifiers should be applied to the amplified test case you can pass these options:

TODO:  coy out help text
```
--apply-all-prettifiers
                       Apply all available prettifiers. This overrides options that turn off specific
                         prettifiers. Default value: false
--apply-general-minimizer
                       Apply the general minimizer to remove redundant assertions and inline local variables.
                         Default value: false
--apply-pit-minimizer  Apply the pit minimizer to remove assertions that do not improve the mutation score.
                         Default value: false
--rename-local-variables
                       Apply Context2Vec to give the local variables more expressive names. Default value: false
--rename-test-methods  Apply Code2Vec to give the test methods more expressive names. Default value: false
```
